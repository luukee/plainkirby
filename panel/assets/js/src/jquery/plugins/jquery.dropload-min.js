!function($){$.support.dropload=$.support.upload&&$.support.fileReader,$.fn.dropload=function(o){if(!$.support.dropload)return!1;var r={url:"/",start:function(){},complete:function(){},progress:function(){}},o=$.extend({},r,o),n=function(r,n){var t=n.length,e=100*t,i=0,s=0;o.start(),$.upload(n,{url:r,error:function(){i++},success:function(){i++},progress:function(r,n){s=100*i+n,o.progress(s/e)},complete:function(){o.complete(n)}})};return this.each(function(){var o=$(this),r=o.is("form")?o:o.closest("form"),t=r.attr("action"),e=o.find("[type=file]"),i=0,s=0,u=0,f=0;e.on("change",function(){n(t,this.files),$(this).val("")}),o.filedrop({dragover:function(){o.addClass("over")},dragexit:function(){o.removeClass("over")},drop:function(){o.removeClass("over")},files:function(o){n(t,o)}})})}}(jQuery);